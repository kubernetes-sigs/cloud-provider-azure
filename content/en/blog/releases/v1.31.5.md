---
title: v1.31.5
linkTitle: v1.31.5
date: 2025-04-21
description: Cloud Provider Azure v1.31.5
---

Full Changelog: [v1.31.4..v1.31.5](https://github.com/kubernetes-sigs/cloud-provider-azure/compare/v1.31.4...v1.31.5)

## Changes by Kind

### Feature

- Feat: Support migration from basic to standard load balancer
  
  Introducing a new feature to migrate from basic to standard sku load balancer. To trigger the migration, switch `loadBalancerSKU` in the cloud provider configuration from `basic` to `standard`. The basic load balancer will be removed automatically, and service workloads on it will be migrated to the newly created standard load balancer, with their ip addresses unchanged. This operation may cause downtime. ([#8790](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8790), [@nilo19](https://github.com/nilo19))

### Bug or Regression

- Fix a bug that prevented patches to NSGs when the Azure API responded with empty strings for `DestinationAddressPrefix` ([#7854](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/7854), [@kon-angelo](https://github.com/kon-angelo))
- Fix network ARM client setting in a different subscription within the same tenant. ([#8746](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8746), [@zarvd](https://github.com/zarvd))
- Fix(credential-provider): check empty mirror mapping and add debugging info ([#8692](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8692), [@k8s-infra-cherrypick-robot](https://github.com/k8s-infra-cherrypick-robot))
- Fix(credential-provider): use acr audience token for ACR authentication ([#8593](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8593), [@mainred](https://github.com/mainred))
- Fix: Prevent panic when route table GET result is empty interface, or nil. ([#8823](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8823), [@k8s-infra-cherrypick-robot](https://github.com/k8s-infra-cherrypick-robot))
- Fix: Remove the shared slb health probe after the last cluster service is switched to local. ([#8732](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8732), [@nilo19](https://github.com/nilo19))
- Fix: Skip ensuring host in pool if the vm is not found ([#8761](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8761), [@nilo19](https://github.com/nilo19))
- Fix: reduce get disk calls in disk attach/detach on VMSS ([#8624](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8624), [@andyzhangx](https://github.com/andyzhangx))

### Other (Cleanup or Flake)

- Chore: Add metrics for local service backend pool updater
  Add metrics service_local_update_backend_pool_xxx. ([#8897](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/8897), [@nilo19](https://github.com/nilo19))

## Dependencies

### Added
- github.com/go-faker/faker/v4: [v4.6.0](https://github.com/go-faker/faker/tree/v4.6.0)
- github.com/prashantv/gostub: [v1.1.0](https://github.com/prashantv/gostub/tree/v1.1.0)
- go.uber.org/automaxprocs: v1.6.0

### Changed
- github.com/Azure/azure-sdk-for-go/sdk/azcore: [v1.17.0 → v1.18.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/azcore/v1.17.0...sdk/azcore/v1.18.0)
- github.com/Azure/azure-sdk-for-go/sdk/azidentity: [v1.8.2 → v1.9.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/azidentity/v1.8.2...sdk/azidentity/v1.9.0)
- github.com/Azure/azure-sdk-for-go/sdk/internal: [v1.10.0 → v1.11.1](https://github.com/Azure/azure-sdk-for-go/compare/sdk/internal/v1.10.0...sdk/internal/v1.11.1)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/compute/armcompute/v6: [v6.3.0 → v6.4.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/compute/armcompute/v6/v6.3.0...sdk/resourcemanager/compute/armcompute/v6/v6.4.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/containerservice/armcontainerservice/v6: [v6.4.0 → v6.5.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/containerservice/armcontainerservice/v6/v6.4.0...sdk/resourcemanager/containerservice/armcontainerservice/v6/v6.5.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/keyvault/armkeyvault: [v1.4.0 → v1.5.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/keyvault/armkeyvault/v1.4.0...sdk/resourcemanager/keyvault/armkeyvault/v1.5.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/storage/armstorage: [v1.7.0 → v1.8.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/storage/armstorage/v1.7.0...sdk/resourcemanager/storage/armstorage/v1.8.0)
- github.com/Azure/msi-dataplane: [v0.4.2 → v0.4.3](https://github.com/Azure/msi-dataplane/compare/v0.4.2...v0.4.3)
- github.com/AzureAD/microsoft-authentication-library-for-go: [v1.4.0 → v1.4.2](https://github.com/AzureAD/microsoft-authentication-library-for-go/compare/v1.4.0...v1.4.2)
- github.com/fsnotify/fsnotify: [v1.8.0 → v1.9.0](https://github.com/fsnotify/fsnotify/compare/v1.8.0...v1.9.0)
- github.com/golang-jwt/jwt/v5: [v5.2.1 → v5.2.2](https://github.com/golang-jwt/jwt/compare/v5.2.1...v5.2.2)
- github.com/google/pprof: [40e02aa → 27863c8](https://github.com/google/pprof/compare/40e02aa...27863c8)
- github.com/keybase/go-keychain: [57a3676 → v0.0.1](https://github.com/keybase/go-keychain/compare/57a3676...v0.0.1)
- github.com/klauspost/compress: [v1.17.11 → v1.18.0](https://github.com/klauspost/compress/compare/v1.17.11...v1.18.0)
- github.com/onsi/ginkgo/v2: [v2.23.0 → v2.23.4](https://github.com/onsi/ginkgo/compare/v2.23.0...v2.23.4)
- github.com/onsi/gomega: [v1.36.2 → v1.37.0](https://github.com/onsi/gomega/compare/v1.36.2...v1.37.0)
- github.com/prometheus/client_golang: [v1.21.1 → v1.22.0](https://github.com/prometheus/client_golang/compare/v1.21.1...v1.22.0)
- github.com/redis/go-redis/v9: [v9.7.0 → v9.7.3](https://github.com/redis/go-redis/compare/v9.7.0...v9.7.3)
- go.uber.org/mock: v0.5.0 → v0.5.1
- golang.org/x/exp: 8a7402a → 054e65f
- golang.org/x/mod: v0.23.0 → v0.24.0
- golang.org/x/net: v0.37.0 → v0.38.0
- golang.org/x/sync: v0.12.0 → v0.13.0
- golang.org/x/sys: v0.31.0 → v0.32.0
- golang.org/x/text: v0.23.0 → v0.24.0
- golang.org/x/tools: v0.30.0 → v0.31.0
- k8s.io/apiserver: v0.31.6 → v0.31.7
- k8s.io/cloud-provider: v0.31.6 → v0.31.7
- k8s.io/component-base: v0.31.6 → v0.31.7
- k8s.io/component-helpers: v0.31.6 → v0.31.7
- k8s.io/controller-manager: v0.31.6 → v0.31.7
- k8s.io/cri-api: v0.31.6 → v0.31.7
- k8s.io/kubelet: v0.31.6 → v0.31.7
- k8s.io/utils: 24370be → 1f6e0b7
- sigs.k8s.io/cloud-provider-azure/pkg/azclient/configloader: v0.4.1 → v0.5.2
- sigs.k8s.io/cloud-provider-azure/pkg/azclient: v0.5.9 → v0.6.2

### Removed
- github.com/Azure/azure-sdk-for-go/sdk/containers/azcontainerregistry: [v0.2.2](https://github.com/Azure/azure-sdk-for-go/tree/sdk/containers/azcontainerregistry/v0.2.2)

