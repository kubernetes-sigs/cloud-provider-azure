---
title: v1.34.0
linkTitle: v1.34.0
date: 2025-09-01
description: Cloud Provider Azure v1.34.0
---
Full Changelog: [v1.33.0..v1.34.0](https://github.com/kubernetes-sigs/cloud-provider-azure/compare/v1.33.0...v1.34.0)

## Changes by Kind

### Feature

- New Feature: Node Filtering for Cloud Controller Manager
  Added --node-filter-requirements flag to selectively manage nodes using Kubernetes label selectors.
  
  Usage examples:
  --node-filter-requirements="environment=production"
  --node-filter-requirements="environment in (production,staging),!maintenance" ([#9270](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9270), [@Xinyue-Wang](https://github.com/Xinyue-Wang))

### Bug or Regression

- Chore: add option to list vmss vms without instance view ([#9339](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9339), [@landreasyan](https://github.com/landreasyan))
- Chore: bump lbclient to latest API version for AzureStackCloud ([#9308](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9308), [@tyler-lloyd](https://github.com/tyler-lloyd))
- Chore: fix typo in vmss controller ([#9252](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9252), [@hccheng72](https://github.com/hccheng72))
- Fix: Do not return early when pip.publicIPAddress is empty when checking the ownership ([#9363](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9363), [@nilo19](https://github.com/nilo19))
- Fix: Retry reconcileLoadBalancer after removing PLS ([#9127](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9127), [@nilo19](https://github.com/nilo19))
- Fix: Set default ipfamilies to ipv4 if the field is empty ([#9112](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9112), [@nilo19](https://github.com/nilo19))
- Fix: don't change subnet.PrivateEndpointNetworkPolicies setting if it's already set ([#9227](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9227), [@andyzhangx](https://github.com/andyzhangx))
- Fix: fix error evaluation in azure_controller_vmssflex.AttachDisk ([#9040](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9040), [@sunpa93](https://github.com/sunpa93))
- Fix: migrate interface client operations from NetworkClientFactory to ComputeClientFactory ([#9250](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9250), [@nilo19](https://github.com/nilo19))

### Other (Cleanup or Flake)

- Bump kubernetes dependencies to v1.34.0 ([#9384](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9384), [@feiskyer](https://github.com/feiskyer))
- Chore: bump Go version to 1.24.6 ([#9380](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9380), [@feiskyer](https://github.com/feiskyer))
- Skip adding Internet service tag if IP ranges allow all ([#9208](https://github.com/kubernetes-sigs/cloud-provider-azure/pull/9208), [@zarvd](https://github.com/zarvd))

## Dependencies

### Added
- github.com/GoogleCloudPlatform/opentelemetry-operations-go/detectors/gcp: [v1.29.0](https://github.com/GoogleCloudPlatform/opentelemetry-operations-go/tree/detectors/gcp/v1.29.0)
- github.com/Masterminds/semver/v3: [v3.4.0](https://github.com/Masterminds/semver/tree/v3.4.0)
- github.com/cenkalti/backoff/v5: [v5.0.3](https://github.com/cenkalti/backoff/tree/v5.0.3)
- github.com/envoyproxy/go-control-plane/envoy: [v1.32.4](https://github.com/envoyproxy/go-control-plane/tree/envoy/v1.32.4)
- github.com/envoyproxy/go-control-plane/ratelimit: [v0.1.0](https://github.com/envoyproxy/go-control-plane/tree/ratelimit/v0.1.0)
- github.com/go-jose/go-jose/v4: [v4.1.1](https://github.com/go-jose/go-jose/tree/v4.1.1)
- github.com/grafana/regexp: [a468a5b](https://github.com/grafana/regexp/tree/a468a5b)
- github.com/grpc-ecosystem/go-grpc-middleware/providers/prometheus: [v1.0.1](https://github.com/grpc-ecosystem/go-grpc-middleware/tree/providers/prometheus/v1.0.1)
- github.com/grpc-ecosystem/go-grpc-middleware/v2: [v2.3.0](https://github.com/grpc-ecosystem/go-grpc-middleware/tree/v2.3.0)
- github.com/prometheus/otlptranslator: [8549f4a](https://github.com/prometheus/otlptranslator/tree/8549f4a)
- github.com/spiffe/go-spiffe/v2: [v2.5.0](https://github.com/spiffe/go-spiffe/tree/v2.5.0)
- github.com/zeebo/errs: [v1.4.0](https://github.com/zeebo/errs/tree/v1.4.0)
- go.etcd.io/raft/v3: v3.6.0
- go.opentelemetry.io/contrib/detectors/gcp: v1.36.0
- go.yaml.in/yaml/v2: v2.4.2
- go.yaml.in/yaml/v3: v3.0.4
- golang.org/x/tools/go/expect: v0.1.1-deprecated
- golang.org/x/tools/go/packages/packagestest: v0.1.1-deprecated
- gonum.org/v1/gonum: v0.16.0
- sigs.k8s.io/structured-merge-diff/v6: v6.3.0

### Changed
- cel.dev/expr: v0.19.1 → v0.24.0
- cloud.google.com/go/compute/metadata: v0.5.0 → v0.7.0
- github.com/Azure/azure-sdk-for-go/sdk/azcore: [v1.18.0 → v1.19.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/azcore/v1.18.0...sdk/azcore/v1.19.0)
- github.com/Azure/azure-sdk-for-go/sdk/azidentity: [v1.9.0 → v1.11.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/azidentity/v1.9.0...sdk/azidentity/v1.11.0)
- github.com/Azure/azure-sdk-for-go/sdk/internal: [v1.11.1 → v1.11.2](https://github.com/Azure/azure-sdk-for-go/compare/sdk/internal/v1.11.1...sdk/internal/v1.11.2)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/containerservice/armcontainerservice/v6: [v6.4.0 → v6.6.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/containerservice/armcontainerservice/v6/v6.4.0...sdk/resourcemanager/containerservice/armcontainerservice/v6/v6.6.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/keyvault/armkeyvault: [v1.4.0 → v1.5.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/keyvault/armkeyvault/v1.4.0...sdk/resourcemanager/keyvault/armkeyvault/v1.5.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/msi/armmsi: [v1.2.0 → v1.3.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/msi/armmsi/v1.2.0...sdk/resourcemanager/msi/armmsi/v1.3.0)
- github.com/Azure/azure-sdk-for-go/sdk/resourcemanager/storage/armstorage: [v1.8.0 → v1.8.1](https://github.com/Azure/azure-sdk-for-go/compare/sdk/resourcemanager/storage/armstorage/v1.8.0...sdk/resourcemanager/storage/armstorage/v1.8.1)
- github.com/Azure/azure-sdk-for-go/sdk/security/keyvault/azsecrets: [v1.3.1 → v1.4.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/security/keyvault/azsecrets/v1.3.1...sdk/security/keyvault/azsecrets/v1.4.0)
- github.com/Azure/azure-sdk-for-go/sdk/security/keyvault/internal: [v1.1.1 → v1.2.0](https://github.com/Azure/azure-sdk-for-go/compare/sdk/security/keyvault/internal/v1.1.1...sdk/security/keyvault/internal/v1.2.0)
- github.com/Azure/go-ansiterm: [306776e → faa5f7b](https://github.com/Azure/go-ansiterm/compare/306776e...faa5f7b)
- github.com/cncf/xds/go: [b4127c9 → 2ac532f](https://github.com/cncf/xds/compare/b4127c9...2ac532f)
- github.com/coreos/go-systemd/v22: [v22.5.0 → v22.6.0](https://github.com/coreos/go-systemd/compare/v22.5.0...v22.6.0)
- github.com/emicklei/go-restful/v3: [v3.12.1 → v3.13.0](https://github.com/emicklei/go-restful/compare/v3.12.1...v3.13.0)
- github.com/envoyproxy/go-control-plane: [v0.13.0 → v0.13.4](https://github.com/envoyproxy/go-control-plane/compare/v0.13.0...v0.13.4)
- github.com/envoyproxy/protoc-gen-validate: [v1.1.0 → v1.2.1](https://github.com/envoyproxy/protoc-gen-validate/compare/v1.1.0...v1.2.1)
- github.com/fxamacker/cbor/v2: [v2.7.0 → v2.9.0](https://github.com/fxamacker/cbor/compare/v2.7.0...v2.9.0)
- github.com/go-faker/faker/v4: [v4.6.0 → v4.6.1](https://github.com/go-faker/faker/compare/v4.6.0...v4.6.1)
- github.com/go-logr/logr: [v1.4.2 → v1.4.3](https://github.com/go-logr/logr/compare/v1.4.2...v1.4.3)
- github.com/go-openapi/jsonpointer: [v0.21.0 → v0.21.2](https://github.com/go-openapi/jsonpointer/compare/v0.21.0...v0.21.2)
- github.com/go-openapi/swag: [v0.23.0 → v0.23.1](https://github.com/go-openapi/swag/compare/v0.23.0...v0.23.1)
- github.com/godbus/dbus/v5: [v5.0.4 → v5.1.0](https://github.com/godbus/dbus/compare/v5.0.4...v5.1.0)
- github.com/golang-jwt/jwt/v5: [v5.2.2 → v5.3.0](https://github.com/golang-jwt/jwt/compare/v5.2.2...v5.3.0)
- github.com/golang/glog: [v1.2.2 → v1.2.5](https://github.com/golang/glog/compare/v1.2.2...v1.2.5)
- github.com/google/cel-go: [v0.23.2 → v0.26.1](https://github.com/google/cel-go/compare/v0.23.2...v0.26.1)
- github.com/google/gnostic-models: [v0.6.9 → v0.7.0](https://github.com/google/gnostic-models/compare/v0.6.9...v0.7.0)
- github.com/google/gofuzz: [v1.2.0 → v1.0.0](https://github.com/google/gofuzz/compare/v1.2.0...v1.0.0)
- github.com/google/pprof: [27863c8 → f64d9cf](https://github.com/google/pprof/compare/27863c8...f64d9cf)
- github.com/grpc-ecosystem/grpc-gateway/v2: [v2.24.0 → v2.27.2](https://github.com/grpc-ecosystem/grpc-gateway/compare/v2.24.0...v2.27.2)
- github.com/jonboulle/clockwork: [v0.4.0 → v0.5.0](https://github.com/jonboulle/clockwork/compare/v0.4.0...v0.5.0)
- github.com/mailru/easyjson: [v0.7.7 → v0.9.0](https://github.com/mailru/easyjson/compare/v0.7.7...v0.9.0)
- github.com/moby/term: [v0.5.0 → v0.5.2](https://github.com/moby/term/compare/v0.5.0...v0.5.2)
- github.com/modern-go/reflect2: [v1.0.2 → 35a7c28](https://github.com/modern-go/reflect2/compare/v1.0.2...35a7c28)
- github.com/onsi/ginkgo/v2: [v2.23.4 → v2.25.1](https://github.com/onsi/ginkgo/compare/v2.23.4...v2.25.1)
- github.com/onsi/gomega: [v1.37.0 → v1.38.1](https://github.com/onsi/gomega/compare/v1.37.0...v1.38.1)
- github.com/prometheus/client_golang: [v1.22.0 → v1.23.0](https://github.com/prometheus/client_golang/compare/v1.22.0...v1.23.0)
- github.com/prometheus/client_model: [v0.6.1 → v0.6.2](https://github.com/prometheus/client_model/compare/v0.6.1...v0.6.2)
- github.com/prometheus/common: [v0.62.0 → v0.65.0](https://github.com/prometheus/common/compare/v0.62.0...v0.65.0)
- github.com/prometheus/procfs: [v0.15.1 → v0.17.0](https://github.com/prometheus/procfs/compare/v0.15.1...v0.17.0)
- github.com/samber/lo: [v1.50.0 → v1.51.0](https://github.com/samber/lo/compare/v1.50.0...v1.51.0)
- github.com/spf13/pflag: [v1.0.6 → v1.0.7](https://github.com/spf13/pflag/compare/v1.0.6...v1.0.7)
- github.com/stoewer/go-strcase: [v1.3.0 → v1.3.1](https://github.com/stoewer/go-strcase/compare/v1.3.0...v1.3.1)
- github.com/stretchr/testify: [v1.10.0 → v1.11.1](https://github.com/stretchr/testify/compare/v1.10.0...v1.11.1)
- go.etcd.io/bbolt: v1.3.11 → v1.4.2
- go.etcd.io/etcd/api/v3: v3.5.21 → v3.6.4
- go.etcd.io/etcd/client/pkg/v3: v3.5.21 → v3.6.4
- go.etcd.io/etcd/client/v3: v3.5.21 → v3.6.4
- go.etcd.io/etcd/pkg/v3: v3.5.21 → v3.6.4
- go.etcd.io/etcd/server/v3: v3.5.21 → v3.6.4
- go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc: v0.58.0 → v0.62.0
- go.opentelemetry.io/contrib/instrumentation/net/http/otelhttp: v0.58.0 → v0.62.0
- go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc: v1.33.0 → v1.37.0
- go.opentelemetry.io/otel/exporters/otlp/otlptrace: v1.33.0 → v1.37.0
- go.opentelemetry.io/otel/exporters/prometheus: v0.57.0 → v0.59.1
- go.opentelemetry.io/otel/metric: v1.35.0 → v1.37.0
- go.opentelemetry.io/otel/sdk/metric: v1.35.0 → v1.37.0
- go.opentelemetry.io/otel/sdk: v1.35.0 → v1.37.0
- go.opentelemetry.io/otel/trace: v1.35.0 → v1.37.0
- go.opentelemetry.io/otel: v1.35.0 → v1.37.0
- go.opentelemetry.io/proto/otlp: v1.4.0 → v1.7.1
- go.uber.org/mock: v0.5.2 → v0.6.0
- golang.org/x/crypto: v0.36.0 → v0.41.0
- golang.org/x/exp: 054e65f → 8b4c13b
- golang.org/x/mod: v0.24.0 → v0.27.0
- golang.org/x/net: v0.38.0 → v0.43.0
- golang.org/x/oauth2: v0.27.0 → v0.30.0
- golang.org/x/sync: v0.14.0 → v0.16.0
- golang.org/x/sys: v0.33.0 → v0.35.0
- golang.org/x/term: v0.30.0 → v0.34.0
- golang.org/x/text: v0.24.0 → v0.28.0
- golang.org/x/time: v0.11.0 → v0.12.0
- golang.org/x/tools: v0.31.0 → v0.36.0
- google.golang.org/genproto/googleapis/api: e6fa225 → ef028d9
- google.golang.org/genproto/googleapis/rpc: e6fa225 → ef028d9
- google.golang.org/grpc: v1.68.1 → v1.75.0
- google.golang.org/protobuf: v1.36.5 → v1.36.8
- gopkg.in/evanphx/json-patch.v4: v4.12.0 → v4.13.0
- k8s.io/api: v0.33.0 → v0.34.0
- k8s.io/apimachinery: v0.33.0 → v0.34.0
- k8s.io/apiserver: v0.33.0 → v0.34.0
- k8s.io/client-go: v0.33.0 → v0.34.0
- k8s.io/cloud-provider: v0.33.0 → v0.34.0
- k8s.io/component-base: v0.33.0 → v0.34.0
- k8s.io/component-helpers: v0.33.0 → v0.34.0
- k8s.io/controller-manager: v0.33.0 → v0.34.0
- k8s.io/cri-api: v0.33.0 → v0.34.0
- k8s.io/gengo/v2: a7b603a → 85fd79d
- k8s.io/kms: v0.33.0 → v0.34.0
- k8s.io/kube-openapi: c8a335a → d7b6acb
- k8s.io/kubelet: v0.33.0 → v0.34.0
- k8s.io/utils: 24370be → 0af2bda
- sigs.k8s.io/apiserver-network-proxy/konnectivity-client: v0.31.2 → v0.33.0
- sigs.k8s.io/cloud-provider-azure/pkg/azclient/cache: v0.6.1 → v0.8.3
- sigs.k8s.io/cloud-provider-azure/pkg/azclient/configloader: v0.5.3 → v0.8.4
- sigs.k8s.io/cloud-provider-azure/pkg/azclient: v0.6.2 → v0.9.2
- sigs.k8s.io/json: 9aa6b5e → 2d32026
- sigs.k8s.io/yaml: v1.4.0 → v1.6.0

### Removed
- github.com/census-instrumentation/opencensus-proto: [v0.4.1](https://github.com/census-instrumentation/opencensus-proto/tree/v0.4.1)
- github.com/dgryski/go-rendezvous: [9f7001d](https://github.com/dgryski/go-rendezvous/tree/9f7001d)
- github.com/golang-jwt/jwt/v4: [v4.5.2](https://github.com/golang-jwt/jwt/tree/v4.5.2)
- github.com/grpc-ecosystem/go-grpc-middleware: [v1.3.0](https://github.com/grpc-ecosystem/go-grpc-middleware/tree/v1.3.0)
- github.com/grpc-ecosystem/grpc-gateway: [v1.16.0](https://github.com/grpc-ecosystem/grpc-gateway/tree/v1.16.0)
- github.com/niemeyer/pretty: [a10e7ca](https://github.com/niemeyer/pretty/tree/a10e7ca)
- github.com/redis/go-redis/v9: [v9.7.3](https://github.com/redis/go-redis/tree/v9.7.3)
- go.etcd.io/etcd/client/v2: v2.305.21
- go.etcd.io/etcd/raft/v3: v3.5.21
- go.uber.org/atomic: v1.7.0
- google.golang.org/genproto: ef43131
